<mat-toolbar color="primary" class="mat-elevation-z11">
    <button
        mat-icon-button
        aria-label="Toggle sidenav"
        mat-icon-button
        (click)="drawer.toggle()"
        *ngIf="(isHandset$ | async)"
    >
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
    </button>
    <span
        [ngStyle]="{
            'margin-left': (auth.isAuthenticated | async) ? '0' : '1rem'
        }"
        >{{ I18nService.breadcrumb | async | translate }}</span
    >
    <span fxFlex></span>

    <div
        *ngIf="(auth.isAuthenticated | async); then: authenticated; else: guest"
    ></div>

    <ng-template #authenticated>
        <btn-search></btn-search>
        <btn-sort-by></btn-sort-by>
        <btn-filter [filterNavRef]="filterNavRef"></btn-filter>
        <mat-sidenav #filterNavRef style="width: 320px;"
                position="end"
                [mode]="'over'"
                [fixedInViewport]="true"
                fixedTopGap="56">
                <app-filters [filterNavRef]="filterNavRef"></app-filters>
            </mat-sidenav>
        <btn-view></btn-view>
        <btn-more
            [path]="coreSrv.currentPath | async"
            [id]="coreSrv.postId | async"
        ></btn-more>

    </ng-template>
    <ng-template #guest>
        <a
            routerLink="/login"
            fxHide.xs="true"
            *ngIf="(coreSrv.currentPath | async) != 'login'"
            mat-button
            (click)="drawer.close()"
        >
            {{ "navbar.login" | translate }}
        </a>
        <button
            mat-icon-button
            routerLink="/login"
            fxHide.gt-xs="true"
            matTooltip="{{ 'tooltips.login' | translate }}"
            [matTooltipClass]="'tooltip'"
            *ngIf="(coreSrv.currentPath | async) != 'login'"
        >
            <mat-icon aria-label="iniciar sesion">fingerprint</mat-icon>
        </button>
        <btn-lang></btn-lang>
    </ng-template>
</mat-toolbar>
